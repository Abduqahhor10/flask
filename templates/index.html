{% extends "base.html" %}
{% block content %}
  <h2 class="mb-3">Latest Blogs</h2>
  {% for b in blogs %}
    <a href="{{ url_for('blog_detail', blog_id=b.id) }}" class="text-decoration-none">
      <div class="blog-card p-3">
        <h4>{{ b.title }}</h4>
        <div class="meta mb-2">
          <div>By: {{ b.author.username }}</div>
          <div>• {{ b.created_at.strftime('%Y-%m-%d %H:%M') }}</div>
          <div>• Views: {{ b.views or 0 }}</div>
          <div>• Likes: <span id="likes-{{ b.id }}">{{ b.likes or 0 }}</span></div>
        </div>
        <p class="text-muted">{{ b.content[:220] }}{% if b.content|length > 220 %}...{% endif %}</p>
      </div>
    </a>
  {% else %}
    <p>No blogs yet. <a href="{{ url_for('create_blog') }}">Create the first one.</a></p>
  {% endfor %}
{% endblock %}
